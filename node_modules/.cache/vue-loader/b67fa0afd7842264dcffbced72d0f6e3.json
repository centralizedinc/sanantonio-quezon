{"remainingRequest":"/home/abalita/work/projects/sanantonio-quezon/node_modules/vue-loader/lib/index.js??vue-loader-options!/home/abalita/work/projects/sanantonio-quezon/src/components/permits/BusinessPermit.vue?vue&type=script&lang=js&","dependencies":[{"path":"/home/abalita/work/projects/sanantonio-quezon/src/components/permits/BusinessPermit.vue","mtime":1568248885659},{"path":"/home/abalita/work/projects/sanantonio-quezon/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/abalita/work/projects/sanantonio-quezon/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/home/abalita/work/projects/sanantonio-quezon/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/home/abalita/work/projects/sanantonio-quezon/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport VueBarcode from \"vue-barcode\";\nimport axios from \"axios\";\n\nexport default {\n  components: {\n    barcode: VueBarcode\n  },\n  data() {\n    return {\n      insurance: {\n        name: \"\",\n        fee: 0\n      },\n      step_curr: 0,\n      step_pay: 0,\n      same_address: true,\n      pay: false,\n      visible: false,\n      barcodeValue: \"123-456-789\",\n      // **************************************\n      form: {\n        application: {\n          permit_type: \"Business Permit\",\n          app_type: null,\n          reference_no: null,\n          pbr_date: null,\n          lgu_date: null,\n          registration_no: null\n        },\n        business: {\n          ownership: null,\n          tin: null,\n          sss: null,\n          business_name: \"\",\n          contact: null,\n          email: \"\",\n          business_address: \"\",\n          // AMO - Applicat/Manager/Owner\n          amo: {\n            name: \"\",\n            address: \"\",\n            contact: null,\n            email: \"\"\n          },\n          business_area: \"\",\n          owner_no: null,\n          employees_no: {\n            professional: null,\n            non_professional: null\n          },\n          business_type: null,\n          rented: {\n            lessor: \"\",\n            monthly_rental: null,\n            lessor_address: \"\",\n            lessor_conatct: null,\n            lessor_email: \"\"\n          },\n          property_pin: {\n            land: null,\n            building: null,\n            machinery: null\n          },\n          business_activities: [],\n          payment: {\n            mode: null,\n            qrtly: null\n          }\n        },\n        documents: [],\n        business_insurance: {\n          provider: \"\",\n          app_fee: 0,\n          lrf: 0,\n          interest: 0,\n          surcharge: 0,\n          total: 0\n        },\n        payment_info: {\n          desc: \"Business Clearance\",\n          amount: 1500,\n          method: \"Over the Counter\"\n        },\n        billing_info: {\n          name: \"\",\n          email: \"\",\n          contact: null\n        },\n        progress: {\n          status: \"On Progress\",\n          current_task: \"Payment\",\n          previous_task: \"\"\n        }\n      },\n      // ***************************************\n      ref_num: \"123-456-789\",\n      activities: [],\n      value: 1,\n      line_business: \"\",\n      capital: \"\",\n      receipts: \"\",\n      business_activities: [],\n      editing: false,\n      key: 0,\n      dataSource: [\n        {\n          line_business: \"Edward King 0\",\n          capital: \"32\",\n          receipts: \"London, Park Lane no. 0\"\n        },\n        {\n          line_business: \"Edward King 1\",\n          capital: \"32\",\n          receipts: \"London, Park Lane no. 1\"\n        }\n      ],\n      count: 2,\n      columns: [\n        {\n          title: \"Line of Business\",\n          dataIndex: \"line_business\",\n          width: \"30%\",\n          scopedSlots: { customRender: \"line_business\" }\n        },\n        {\n          title: \"Capitalization\",\n          dataIndex: \"capital\",\n          scopedSlots: { customRender: \"capital\" }\n        },\n        {\n          title: \"Gross Sales/Receipts\",\n          dataIndex: \"receipts\",\n          scopedSlots: { customRender: \"receipts\" }\n        },\n        {\n          title: \"operation\",\n          dataIndex: \"operation\",\n          scopedSlots: { customRender: \"operation\" }\n        }\n      ],\n      cols: [\n        {\n          title: \"Line of Business\"\n        },\n        {\n          title: \"Capitalization\"\n        },\n        {\n          title: \"Gross Sales/Receipts\"\n        }\n      ]\n    };\n  },\n  watch: {\n    step_curr() {\n      console.log(\"step curr data: \" + JSON.stringify(this.step_curr));\n      console.log(\"step pay data: \" + JSON.stringify(this.step_pay));\n      if (this.step_curr > 4) {\n        this.pay = true;\n        this.step_pay++;\n        this.step_curr = 4;\n        console.log(\"step > 4\");\n        if (this.step_pay == 3) {\n          console.log(\"step_pay == 4\");\n          this.visible = true;\n        }\n      } else if (this.pay && this.step_pay != 0 && this.step_curr == 3) {\n        console.log(\n          \"else if step curr data: \" + JSON.stringify(this.step_curr)\n        );\n        console.log(\"else if step pay data: \" + JSON.stringify(this.step_pay));\n        this.step_pay--;\n        this.step_curr = 4;\n        if (this.step_pay == 0) {\n          this.pay = false;\n          this.step_curr = 4;\n        }\n      } else if (this.step_pay === 1) {\n        console.log(\"step pay \");\n        if (\n          this.form.email == null &&\n          this.form.email == \"\" &&\n          this.form.email == undefined &&\n          this.form.phone == null &&\n          this.form.phone == \"\" &&\n          this.form.phone == undefined &&\n          this.form.name == null &&\n          this.form.name == \"\" &&\n          this.form.name == undefined\n        ) {\n          console.log(\"fill it up\");\n          this.step_pay = 1;\n        }\n      }\n    },\n    visible() {\n      console.log(\"visible status: \" + JSON.stringify(this.visible));\n      this.visible = true;\n    }\n  },\n  methods: {\n    insured(key) {\n      var product = [\n        {\n          name: \"\",\n          fee: 0\n        },\n        {\n          provider: \"AIG\",\n          app_fee: 15000,\n          lrf: 150,\n          interest: 0,\n          surcharge: 0,\n          total: 15150\n        },\n        {\n          provider: \"AXA Philippines\",\n          app_fee: 16000,\n          lrf: 160,\n          interest: 0,\n          surcharge: 0,\n          total: 16160\n        },\n        {\n          provider: \"Malayan\",\n          app_fee: 17000,\n          lrf: 170,\n          interest: 0,\n          surcharge: 0,\n          total: 17170\n        },\n        {\n          provider: \"MAPRE Philippines\",\n          app_fee: 18000,\n          lrf: 180,\n          interest: 0,\n          surcharge: 0,\n          total: 18180\n        }\n      ];\n      // this.insurance = product[key];\n      this.form.business_insurance = product[key];\n    },\n    redirect(nav) {\n      this.$emit(\"redirect\", nav);\n    },\n    upload(info) {\n      const status = info.file.status;\n      if (status !== \"uploading\") {\n        console.log(info.file, info.fileList);\n      }\n      if (status === \"done\") {\n        this.$message.success(`${info.file.name} file uploaded successfully.`);\n      } else if (status === \"error\") {\n        this.$message.error(`${info.file.name} file upload failed.`);\n      }\n    },\n    addBusinessActivities() {\n      if (\n        this.line_business != null &&\n        this.line_business != \"\" &&\n        this.capital != null &&\n        this.capital != \"\" &&\n        this.receipts != null &&\n        this.receipts != \"\"\n      ) {\n        console.log(\"addBusinessActivities\");\n        this.form.business.business_activities.push({\n          line_business: this.line_business,\n          capital: this.capital,\n          receipts: this.receipts\n        });\n        this.line_business = \"\";\n        this.capital = \"\";\n        this.receipts = \"\";\n      }\n    },\n    onChange(e) {\n      console.log(`checked = ${e.target.checked}`);\n    },\n    sameAddress(e) {\n      this.same_address = e.target.checked;\n      console.log(\"same address value: \" + JSON.stringify(this.same_address));\n    },\n    onCellChange(key, dataIndex, value) {\n      const dataSource = [...this.dataSource];\n      const target = dataSource.find(item => item.key === key);\n      if (target) {\n        target[dataIndex] = value;\n        this.dataSource = dataSource;\n      }\n    },\n    handleChange(value, key, column) {\n      const newData = [...this.data];\n      const target = newData.filter(item => key === item.key)[0];\n      if (target) {\n        target[column] = value;\n        this.data = newData;\n      }\n    },\n    edit(key) {\n      const newData = [...this.dataSource];\n      const target = newData.filter(item => key === item.key)[0];\n      console.log(\"taget edit data: \" + JSON.stringify(target));\n      if (target) {\n        target.editable = true;\n        this.dataSource = newData;\n      }\n    },\n    save(key) {\n      const newData = [...this.dataSource];\n      const target = newData.filter(item => key === item.key)[0];\n      if (target) {\n        delete target.editable;\n        this.dataSource = newData;\n        // this.cacheData = newData.map(item => ({ ...item }));\n      }\n    },\n    cancel(key) {\n      const newData = [...this.dataSource];\n      const target = newData.filter(item => key === item.key)[0];\n      if (target) {\n        // Object.assign(\n        //   target,\n        //   this.cacheData.filter(item => key === item.key)[0]\n        // );\n        delete target.editable;\n        this.dataSource = newData;\n      }\n    },\n    onDelete(key) {\n      console.log(\"on delete key data: \" + JSON.stringify(key));\n      this.form.business.business_activities.splice(key);\n      console.log(\n        \"business_activities data: \" +\n          JSON.stringify(this.form.business.business_activities)\n      );\n    },\n    onEdit(record, key) {\n      console.log(\"on edit key data: \" + JSON.stringify(key));\n      this.line_business = this.form.business.business_activities[\n        key\n      ].line_business;\n      this.capital = this.form.business.business_activities[key].capital;\n      this.receipts = this.form.business.business_activities[key].receipts;\n      this.editing = true;\n      this.key = key;\n    },\n    saveEdit() {\n      this.form.business.business_activities[\n        this.key\n      ].line_business = this.line_business;\n      this.form.business.business_activities[this.key].capital = this.capital;\n      this.form.business.business_activities[this.key].receipts = this.receipts;\n      this.onCancel();\n    },\n    onCancel() {\n      this.editing = false;\n      this.line_business = \"\";\n      this.capital = \"\";\n      this.receipts = \"\";\n    },\n    handleAdd() {\n      const { count, dataSource } = this;\n      var newData = {\n        key: count,\n        line_business: `Click here`,\n        capital: \"Click here\",\n        receipts: `Click here`\n      };\n      newData.editable = true;\n      this.dataSource = [...dataSource, newData];\n      this.count = count + 1;\n    },\n    confirm() {\n      console.log(\"confirm button data: \" + JSON.stringify(this.form));\n      if (this.same_address == true) {\n        var amo = {\n          address: this.form.business.business_address,\n          contact: this.form.business.contact,\n          email: this.form.business.email\n        };\n        this.form.business.amo = amo;\n      }\n      axios.post(\"permit/apply\", this.form).then(save_permit => {\n        console.log(\"saved permit\" + JSON.stringify(save_permit));\n        this.redirect(\"mainView\");\n      });\n    }\n  }\n};\n",{"version":3,"sources":["BusinessPermit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA8fA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"BusinessPermit.vue","sourceRoot":"src/components/permits","sourcesContent":["<template>\n  <a-card title=\"Business Permit\">\n    <a-row>\n      <a-col :span=\"24\">\n        <a-steps size=\"small\" :current=\"step_curr\">\n          <a-step title=\"Application Details\"></a-step>\n          <a-step title=\"Business Details\"></a-step>\n          <a-step title=\"Requirements\"></a-step>\n          <a-step title=\"Business Insurance\"></a-step>\n          <a-step title=\"Payments\"></a-step>\n        </a-steps>\n        <a-divider></a-divider>\n      </a-col>\n      <a-col :span=\"24\">\n        <a-form>\n          <!-- application details -->\n          <template v-if=\"step_curr==0\">\n            <a-form-item label=\"Application\" :label-col=\"{ span: 8}\" :wrapper-col=\"{ span: 16 }\">\n              <a-radio-group v-model=\"form.application.app_type\">\n                <a-radio :value=\"1\">New</a-radio>\n                <a-radio :value=\"2\">Renewal</a-radio>\n              </a-radio-group>\n            </a-form-item>\n            <a-form-item\n              label=\"Reference No./B.I.N.\"\n              :label-col=\"{ span: 8 }\"\n              :wrapper-col=\"{ span: 16 }\"\n            >\n              <a-input placeholder=\"Reference No.\" v-model=\"form.application.reference_no\"></a-input>\n            </a-form-item>\n            <a-form-item\n              label=\"Date of Application in PBR\"\n              :label-col=\"{ span: 8 }\"\n              :wrapper-col=\"{ span: 16 }\"\n            >\n              <a-date-picker\n                placeholder=\"Select Date\"\n                style=\"width:100%\"\n                v-model=\"form.application.pbr_date\"\n              />\n            </a-form-item>\n            <a-form-item\n              label=\"Date of Application in LGU\"\n              :label-col=\"{ span: 8 }\"\n              :wrapper-col=\"{ span: 16 }\"\n            >\n              <a-date-picker\n                placeholder=\"Select Date\"\n                style=\"width:100%\"\n                v-model=\"form.application.lgu_date\"\n              />\n            </a-form-item>\n            <a-form-item\n              label=\"DTI/SEC/CDA Registration No.\"\n              :label-col=\"{ span: 8 }\"\n              :wrapper-col=\"{ span: 16 }\"\n            >\n              <a-input placeholder=\"Registration Number\" v-model=\"form.application.registration_no\"></a-input>\n            </a-form-item>\n          </template>\n          <!-- business details -->\n          <template v-if=\"step_curr==1\">\n            <a-form-item\n              label=\"Kind of Onwership\"\n              :label-col=\"{ span: 8 }\"\n              :wrapper-col=\"{ span: 16 }\"\n            >\n              <a-radio-group v-model=\"form.business.ownership\">\n                <a-radio :value=\"1\">Sole Proprietorship</a-radio>\n                <a-radio :value=\"2\">Partnership</a-radio>\n                <a-radio :value=\"3\">Corporation</a-radio>\n              </a-radio-group>\n            </a-form-item>\n            <a-form-item label=\"TIN\" :label-col=\"{ span: 8 }\" :wrapper-col=\"{ span: 16 }\">\n              <a-input placeholder=\"Tax Identification Number\" v-model=\"form.business.tin\"></a-input>\n            </a-form-item>\n            <a-form-item label=\"SSS No\" :label-col=\"{ span: 8 }\" :wrapper-col=\"{ span: 16 }\">\n              <a-input placeholder=\"Social Security Number\" v-model=\"form.business.sss\"></a-input>\n            </a-form-item>\n            <a-form-item label=\"Business Name\" :label-col=\"{ span: 8 }\" :wrapper-col=\"{ span: 16 }\">\n              <a-input placeholder=\"Name of Business\" v-model=\"form.business.business_name\"></a-input>\n            </a-form-item>\n            <a-form-item\n              label=\"Contact Number\"\n              :label-col=\"{ span: 8 }\"\n              :wrapper-col=\"{ span: 16 }\"\n            >\n              <a-input placeholder=\"Business Telephone Number\" v-model=\"form.business.contact\"></a-input>\n            </a-form-item>\n            <a-form-item label=\"Email Address\" :label-col=\"{ span: 8 }\" :wrapper-col=\"{ span: 16 }\">\n              <a-input placeholder=\"Business Email\" v-model=\"form.business.email\"></a-input>\n            </a-form-item>\n            <a-form-item label=\"Business Address\" :label-col=\"{ span: 8 }\">\n              <a-textarea\n                rows=\"3\"\n                placeholder=\"Full Business Address\"\n                style=\"width: 605px\"\n                v-model=\"form.business.business_address\"\n              ></a-textarea>\n            </a-form-item>\n            <a-form-item\n              label=\"Name of Application/Owner/Manager\"\n              :label-col=\"{ span: 8 }\"\n              :wrapper-col=\"{ span: 16}\"\n            >\n              <a-input placeholder=\"Surname, First name, MI\" v-model=\"form.business.amo.name\"></a-input>\n              <div align=\"center\">\n                <a-checkbox\n                  @change=\"sameAddress\"\n                  defaultChecked\n                >Check if Applicant's/Owner's/Manager's address is same with business address</a-checkbox>\n              </div>\n            </a-form-item>\n            <template v-if=\"!same_address\">\n              <div>\n                <a-form-item label=\"Applicant's/Owner's/Manager's Address\" :label-col=\"{ span: 8 }\">\n                  <a-textarea\n                    rows=\"3\"\n                    placeholder=\"Full Applicant's/Owner's/Manager's Address\"\n                    style=\"width: 605px\"\n                    v-model=\"form.business.amo.address\"\n                  ></a-textarea>\n                </a-form-item>\n                <a-form-item\n                  label=\"Contact Number\"\n                  :label-col=\"{ span: 8 }\"\n                  :wrapper-col=\"{ span: 16 }\"\n                >\n                  <a-input\n                    placeholder=\"Applicant's/Owner's/Manager's Telephone Number\"\n                    v-model=\"form.business.amo.contact\"\n                  ></a-input>\n                </a-form-item>\n                <a-form-item\n                  label=\"Email Address\"\n                  :label-col=\"{ span: 8 }\"\n                  :wrapper-col=\"{ span: 16 }\"\n                >\n                  <a-input\n                    placeholder=\"Applicant's/Owner's/Manager's Email\"\n                    v-model=\"form.business.amo.email\"\n                  ></a-input>\n                </a-form-item>\n              </div>\n            </template>\n            <!-- Applicant's/Owner's/Manager's Address -->\n            <a-form-item label=\"Business Area\" :label-col=\"{ span: 8 }\" :wrapper-col=\"{ span: 16 }\">\n              <a-input\n                placeholder=\"Lot Area in square meters (sqm)\"\n                v-model=\"form.business.business_area\"\n              ></a-input>\n            </a-form-item>\n            <a-form-item\n              label=\"Number of Owners\"\n              :label-col=\"{ span: 8 }\"\n              :wrapper-col=\"{ span: 16 }\"\n            >\n              <a-input-number :min=\"1\" :defaultValue=\"1\" v-model=\"form.business.owner_no\"></a-input-number>\n            </a-form-item>\n            <a-form-item\n              label=\"Number of Employees\"\n              :label-col=\"{ span: 8 }\"\n              :wrapper-col=\"{ span: 16 }\"\n            >\n              <a-input-number :defaultValue=\"1\" v-model=\"form.business.employees_no.professional\" />Professional\n              <a-input-number\n                :defaultValue=\"1\"\n                v-model=\"form.business.employees_no.non_professional\"\n              />Non-Professional\n            </a-form-item>\n            <a-form-item label=\"Rented/Owned\" :label-col=\"{ span: 8 }\" :wrapper-col=\"{ span: 16 }\">\n              <a-radio-group v-model=\"form.business.business_type\">\n                <a-radio :value=\"1\">Rented</a-radio>\n                <a-radio :value=\"2\">Owned</a-radio>\n              </a-radio-group>\n            </a-form-item>\n            <a-form-item\n              label=\"Property Index Number (P.I.N.)\"\n              :label-col=\"{ span: 8 }\"\n              :wrapper-col=\"{ span: 16 }\"\n            >\n              Land\n              <a-input-number v-model=\"form.business.property_pin.land\" />Building\n              <a-input-number v-model=\"form.business.property_pin.building\" />Machinery\n              <a-input-number v-model=\"form.business.property_pin.machinery\" />\n            </a-form-item>\n            <template v-if=\"form.business.business_type==1\">\n              <a-form-item\n                label=\"Lessor's Name\"\n                :label-col=\"{ span: 8 }\"\n                :wrapper-col=\"{ span: 16 }\"\n              >\n                <a-input placeholder=\"Name of the Landowner\" v-model=\"form.business.rented.lessor\"></a-input>\n              </a-form-item>\n              <a-form-item\n                label=\"Monthly Rental\"\n                :label-col=\"{ span: 8 }\"\n                :wrapper-col=\"{ span: 16 }\"\n              >\n                <a-input\n                  placeholder=\"Rent per Month in Peso(Php)\"\n                  v-model=\"form.business.rented.monthly_rental\"\n                ></a-input>\n              </a-form-item>\n              <a-form-item\n                label=\"Lessor's Address\"\n                :label-col=\"{ span: 8 }\"\n                :wrapper-col=\"{ span: 16 }\"\n              >\n                <a-textarea\n                  rows=\"3\"\n                  placeholder=\"Full Address\"\n                  v-model=\"form.business.rented.lessor_address\"\n                ></a-textarea>\n              </a-form-item>\n              <a-form-item\n                label=\"Lessor's Contact Number\"\n                :label-col=\"{ span: 8 }\"\n                :wrapper-col=\"{ span: 16 }\"\n              >\n                <a-input\n                  placeholder=\"Lessor's Telephone Number\"\n                  v-model=\"form.business.rented.lessor_contact\"\n                ></a-input>\n              </a-form-item>\n              <a-form-item\n                label=\"Lessor's E-mail Address\"\n                :label-col=\"{ span: 8 }\"\n                :wrapper-col=\"{ span: 16 }\"\n              >\n                <a-input\n                  placeholder=\"Lessor's E-mail Address\"\n                  v-model=\"form.business.rented.lessor_email\"\n                ></a-input>\n              </a-form-item>\n            </template>\n            <a-divider orientation=\"left\">Business Activities</a-divider>\n            <!-- ///////////////////////////////////////////////////////////////////////// -->\n            <!-- <a-table :columns=\"cols\" :dataSource=\"activities\"></a-table> -->\n            <!-- <a-button class=\"editable-add-btn\" @click=\"handleAdd\">Add</a-button>\n            <a-table :columns=\"columns\" :dataSource=\"dataSource\">-->\n            <!-- <template slot=\"line_business\" slot-scope=\"text, record\">\n                <editable-cell :text=\"text\" @change=\"onCellChange(record.key, 'line_business', $event)\" />\n            </template>-->\n            <!-- <template\n                v-for=\"col in ['line_business', 'capital', 'receipts']\"\n                :slot=\"col\"\n                slot-scope=\"text, record, index\"\n              >\n                <div :key=\"col\">\n                  <a-input\n                    v-if=\"record.editable\"\n                    style=\"margin: -5px 0\"\n                    :value=\"text\"\n                    @change=\"e => handleChange(e.target.value, record.key, col)\"\n                  />\n                  <template v-else>{{text}}</template>\n                </div>\n              </template>\n              <template slot=\"operation\" slot-scope=\"text, record, index\">\n                <div class=\"editable-row-operations\">\n                  <a-popconfirm\n                    v-if=\"dataSource.length\"\n                    title=\"Sure to delete?\"\n                    @confirm=\"() => onDelete(record.key)\"\n                  >\n                    <a href=\"javascript:;\">Delete</a>\n                  </a-popconfirm>\n            </div>-->\n            <!-- <div class=\"editable-row-operations\">\n                  <span v-if=\"record.editable\">\n                    <a @click=\"() => save(record.key)\">Save</a>\n                    <p>&nbsp;</p>\n                    <a-popconfirm title=\"Sure to cancel?\" @confirm=\"() => cancel(record.key)\">\n                      <a>Cancel</a>\n                    </a-popconfirm>\n                  </span>\n                  <span v-else>\n                    <a @click=\"() => edit(record.key)\">Edit</a>\n                  </span>\n            </div>-->\n            <!-- </template>\n            </a-table>-->\n            <!-- ]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]]] -->\n            <a-input placeholder=\"Line of Business\" v-model=\"line_business\"></a-input>\n            <a-input placeholder=\"Capitalization\" v-model=\"capital\"></a-input>\n            <a-input placeholder=\"Gross Sales/Receipts\" v-model=\"receipts\"></a-input>\n            <a-button class=\"editable-add-btn\" @click=\"addBusinessActivities\" v-if=\"!editing\">Add</a-button>\n            <a-button class=\"editable-add-btn\" @click=\"saveEdit\" v-if=\"editing\">Edit</a-button>\n            <a-button class=\"editable-add-btn\" @click=\"onCancel\" v-if=\"editing\">Cancel</a-button>\n\n            <a-table bordered :dataSource=\"form.business.business_activities\" :columns=\"columns\">\n              <template slot=\"operation\" slot-scope=\"text, record, index\">\n                <a-popconfirm\n                  v-if=\"form.business.business_activities.length\"\n                  title=\"Sure to delete?\"\n                  @confirm=\"() => onEdit(record, index)\"\n                >\n                  <a href=\"javascript:;\">Edit</a>\n                </a-popconfirm>\n                <a-popconfirm\n                  v-if=\"form.business.business_activities.length\"\n                  title=\"Sure to delete?\"\n                  @confirm=\"() => onDelete(index)\"\n                >\n                  <a href=\"javascript:;\">Delete</a>\n                </a-popconfirm>\n              </template>\n            </a-table>\n\n            <!-- ///////////////////////////////////////////////////////////////////////// -->\n            <a-form-item\n              label=\"Mode of Pyament\"\n              :label-col=\"{ span: 8 }\"\n              :wrapper-col=\"{ span: 16 }\"\n            >\n              <a-radio-group v-model=\"form.business.payment.mode\">\n                <a-radio :value=\"1\">Annual/Full</a-radio>\n                <a-radio :value=\"2\">Quarterly</a-radio>\n              </a-radio-group>\n              <a-input-number\n                v-if=\"form.business.payment.mode == 2\"\n                size=\"small\"\n                :min=\"1\"\n                :max=\"4\"\n                placeholder=\"No. of QTR\"\n                v-model=\"form.business.payment.qrtly\"\n              ></a-input-number>\n            </a-form-item>\n          </template>\n\n          <template v-if=\"step_curr==2\">\n            <a-upload-dragger\n              v-model=\"form.documents\"\n              name=\"file\"\n              :multiple=\"true\"\n              @change=\"upload\"\n            >\n              <p class=\"ant-upload-drag-icon\">\n                <a-icon type=\"inbox\" />\n              </p>\n              <p class=\"ant-upload-text\">Click or drag file to this area to upload</p>\n              <p\n                class=\"ant-upload-hint\"\n              >Support for a single or bulk upload. Strictly prohibit from uploading company data or other band files</p>\n            </a-upload-dragger>\n          </template>\n\n          <template v-if=\"step_curr==3\">\n            <a-row :gutter=\"8\">\n              <a-col :span=\"12\">\n                <a-button block @click=\"insured(1)\">AIG</a-button>\n                <a-button block @click=\"insured(2)\">AXA Philippines</a-button>\n                <a-button block @click=\"insured(3)\">Malayan</a-button>\n                <a-button block @click=\"insured(4)\">MAPRE Philippines</a-button>\n                <a-card title=\"Card Title\" :style=\"{ marginTop: '16px' }\">\n                  <a-card-grid style=\"width:50%;textAlign:left\">\n                    <p>\n                      Lorem ipsum\n                      Dolor sit amet\n                      Consetetur sadipscing elitr\n                      Sed diam n voluptua\n                      At vero eos et accusam\n                    </p>\n                  </a-card-grid>\n                  <a-card-grid style=\"width:50%;textAlign:'center'\">\n                    <p>\n                      Lorem ipsum\n                      Dolor sit amet\n                      Consetetur sadipscing elitr\n                      Sed diam n voluptua\n                      At vero eos et accusam\n                    </p>\n                  </a-card-grid>\n                </a-card>\n              </a-col>\n              <a-col :span=\"11\">\n                <a-card title=\"Payment Details\">\n                  <a-card-grid style=\"width:50%;textAlign:left\">Application Fee</a-card-grid>\n                  <a-card-grid\n                    style=\"width:50%;textAlign:'center'\"\n                  >₱{{form.business_insurance.app_fee}}</a-card-grid>\n                  <a-card-grid style=\"width:50%;textAlign:'center'\">LRF(Legal Research Fee)</a-card-grid>\n                  <a-card-grid style=\"width:50%;textAlign:'center'\">₱{{form.business_insurance.lrf}}</a-card-grid>\n                  <a-card-grid style=\"width:50%;textAlign:'center'\">Interest</a-card-grid>\n                  <a-card-grid\n                    style=\"width:50%;textAlign:'center'\"\n                  >₱{{form.business_insurance.interest}}</a-card-grid>\n                  <a-card-grid style=\"width:50%;textAlign:'center'\">Surcharge</a-card-grid>\n                  <a-card-grid\n                    style=\"width:50%;textAlign:'center'\"\n                  >₱{{form.business_insurance.surcharge}}</a-card-grid>\n                  <a-card-grid style=\"width:50%;textAlign:'center'\">Total</a-card-grid>\n                  <a-card-grid\n                    style=\"width:50%;textAlign:'center'\"\n                  >₱{{form.business_insurance.total}}</a-card-grid>\n                </a-card>\n              </a-col>\n            </a-row>\n          </template>\n\n          <template v-if=\"step_curr==4\">\n            <a-row>\n              <a-col :span=\"6\">\n                <a-steps direction=\"vertical\" size=\"small\" :current=\"step_pay\">\n                  <a-step title=\"Payment Information\" />\n                  <a-step title=\"Billing Details \" />\n                  <a-step title=\"Review\" />\n                  <a-step title=\"Pay\" />\n                </a-steps>\n              </a-col>\n              <a-col :span=\"18\">\n                <a-card style=\"textAlign:'center'\">\n                  <a-card v-if=\"step_pay==0\">\n                    <div align=\"center\">\n                      <h1>{{form.payment_info.desc}}</h1>\n                      <h1>₱{{form.payment_info.amount}}</h1>\n                      <h1>PAYMENT METHOD</h1>\n                      <a-row :gutter=\"8\">\n                        <a-col :span=\"9\">\n                          <div align=\"right\">\n                            <img\n                              src=\"https://i.ibb.co/h127LnF/1055px-7-eleven-logo-tile.jpg\"\n                              alt=\"1055px-7-eleven-logo-tile\"\n                              border=\"0\"\n                              width=\"60\"\n                              height=\"60\"\n                            />\n                          </div>\n                        </a-col>\n                        <a-col :span=\"15\">\n                          <h2 align=\"left\" type=\"bold\">OVER THE COUNTER</h2>\n                          <h5 align=\"left\">\n                            Cebuana Lhullier, M Lhuillier,\n                            7-11 or Coins.ph\n                          </h5>\n                        </a-col>\n                      </a-row>\n                    </div>\n                  </a-card>\n                  <a-card v-if=\"step_pay==1\">\n                    <h4>Customer Information</h4>\n                    <a-input placeholder=\"E-mail Address\" v-model=\"form.billing_info.email\"></a-input>\n                    <a-input placeholder=\"Phone/Mobile\" v-model=\"form.billing_info.contact\"></a-input>\n                    <a-input placeholder=\"Name\" v-model=\"form.billing_info.name\"></a-input>\n                  </a-card>\n                  <a-card v-if=\"step_pay==2\">\n                    <a-card title=\"Payment Information\">\n                      <a-card-grid style=\"width:50%;textAlign:left\">Description</a-card-grid>\n                      <a-card-grid style=\"width:50%;textAlign:'center'\">{{form.payment_info.desc}}</a-card-grid>\n                      <a-card-grid style=\"width:50%;textAlign:'center'\">Amount</a-card-grid>\n                      <a-card-grid\n                        style=\"width:50%;textAlign:'center'\"\n                      >₱{{form.payment_info.amount}}</a-card-grid>\n                      <a-card-grid style=\"width:50%;textAlign:'center'\">Payment Method</a-card-grid>\n                      <a-card-grid style=\"width:50%;textAlign:'center'\">{{form.payment_info.method}}</a-card-grid>\n                    </a-card>\n                    <a-card title=\"Billing Details\">\n                      <a-card-grid style=\"width:50%;textAlign:left\">Name</a-card-grid>\n                      <a-card-grid style=\"width:50%;textAlign:'center'\">{{form.billing_info.name}}</a-card-grid>\n                      <a-card-grid style=\"width:50%;textAlign:'center'\">E-mail</a-card-grid>\n                      <a-card-grid style=\"width:50%;textAlign:'center'\">{{form.billing_info.email}}</a-card-grid>\n                      <a-card-grid style=\"width:50%;textAlign:'center'\">Phone/Mobile</a-card-grid>\n                      <a-card-grid\n                        style=\"width:50%;textAlign:'center'\"\n                      >{{form.billing_info.contact}}</a-card-grid>\n                    </a-card>\n                  </a-card>\n                  <a-modal v-model=\"visible\" data-backdrop=\"static\" data-keyboard=\"false\">\n                    <template slot=\"footer\">\n                      <a-button>\n                        <a-icon type=\"download\" />Download\n                      </a-button>\n                      <a-button @click=\"confirm()\">Confirm</a-button>\n                    </template>\n                    <div align=\"center\">\n                      <h2>Amount Due (before fee)</h2>\n                      <h1 style=\"color:#0F82E0\">₱1500</h1>\n                      <h3>Payment Instructions:</h3>\n                      <h5>1. Go to the nearest 7-Eleven store.</h5>\n                      <h5>\n                        2. Request for a 7-Connect payment at the cashier\n                        <br />\n                        with Reference Number: {{ref_num}}\n                      </h5>\n                      <h2>OR</h2>\n                      <h3>SCAN BARCODE</h3>\n                      <barcode v-bind:value=\"barcodeValue\">Show this if the rendering fails.</barcode>\n                      <h5>3. Complete your payment and you have paid the payment request.</h5>\n                    </div>\n                  </a-modal>\n                </a-card>\n              </a-col>\n            </a-row>\n          </template>\n        </a-form>\n      </a-col>\n    </a-row>\n    <a-row type=\"flex\" justify=\"end\" :gutter=\"16\">\n      <a-col :span=\"3\">\n        <a-button block ghost type=\"primary\" @click=\"step_curr--\">Back</a-button>\n      </a-col>\n      <a-col :span=\"3\">\n        <a-button block type=\"primary\" @click=\"step_curr++\">Next</a-button>\n      </a-col>\n    </a-row>\n  </a-card>\n</template>\n\n<script>\nimport VueBarcode from \"vue-barcode\";\nimport axios from \"axios\";\n\nexport default {\n  components: {\n    barcode: VueBarcode\n  },\n  data() {\n    return {\n      insurance: {\n        name: \"\",\n        fee: 0\n      },\n      step_curr: 0,\n      step_pay: 0,\n      same_address: true,\n      pay: false,\n      visible: false,\n      barcodeValue: \"123-456-789\",\n      // **************************************\n      form: {\n        application: {\n          permit_type: \"Business Permit\",\n          app_type: null,\n          reference_no: null,\n          pbr_date: null,\n          lgu_date: null,\n          registration_no: null\n        },\n        business: {\n          ownership: null,\n          tin: null,\n          sss: null,\n          business_name: \"\",\n          contact: null,\n          email: \"\",\n          business_address: \"\",\n          // AMO - Applicat/Manager/Owner\n          amo: {\n            name: \"\",\n            address: \"\",\n            contact: null,\n            email: \"\"\n          },\n          business_area: \"\",\n          owner_no: null,\n          employees_no: {\n            professional: null,\n            non_professional: null\n          },\n          business_type: null,\n          rented: {\n            lessor: \"\",\n            monthly_rental: null,\n            lessor_address: \"\",\n            lessor_conatct: null,\n            lessor_email: \"\"\n          },\n          property_pin: {\n            land: null,\n            building: null,\n            machinery: null\n          },\n          business_activities: [],\n          payment: {\n            mode: null,\n            qrtly: null\n          }\n        },\n        documents: [],\n        business_insurance: {\n          provider: \"\",\n          app_fee: 0,\n          lrf: 0,\n          interest: 0,\n          surcharge: 0,\n          total: 0\n        },\n        payment_info: {\n          desc: \"Business Clearance\",\n          amount: 1500,\n          method: \"Over the Counter\"\n        },\n        billing_info: {\n          name: \"\",\n          email: \"\",\n          contact: null\n        },\n        progress: {\n          status: \"On Progress\",\n          current_task: \"Payment\",\n          previous_task: \"\"\n        }\n      },\n      // ***************************************\n      ref_num: \"123-456-789\",\n      activities: [],\n      value: 1,\n      line_business: \"\",\n      capital: \"\",\n      receipts: \"\",\n      business_activities: [],\n      editing: false,\n      key: 0,\n      dataSource: [\n        {\n          line_business: \"Edward King 0\",\n          capital: \"32\",\n          receipts: \"London, Park Lane no. 0\"\n        },\n        {\n          line_business: \"Edward King 1\",\n          capital: \"32\",\n          receipts: \"London, Park Lane no. 1\"\n        }\n      ],\n      count: 2,\n      columns: [\n        {\n          title: \"Line of Business\",\n          dataIndex: \"line_business\",\n          width: \"30%\",\n          scopedSlots: { customRender: \"line_business\" }\n        },\n        {\n          title: \"Capitalization\",\n          dataIndex: \"capital\",\n          scopedSlots: { customRender: \"capital\" }\n        },\n        {\n          title: \"Gross Sales/Receipts\",\n          dataIndex: \"receipts\",\n          scopedSlots: { customRender: \"receipts\" }\n        },\n        {\n          title: \"operation\",\n          dataIndex: \"operation\",\n          scopedSlots: { customRender: \"operation\" }\n        }\n      ],\n      cols: [\n        {\n          title: \"Line of Business\"\n        },\n        {\n          title: \"Capitalization\"\n        },\n        {\n          title: \"Gross Sales/Receipts\"\n        }\n      ]\n    };\n  },\n  watch: {\n    step_curr() {\n      console.log(\"step curr data: \" + JSON.stringify(this.step_curr));\n      console.log(\"step pay data: \" + JSON.stringify(this.step_pay));\n      if (this.step_curr > 4) {\n        this.pay = true;\n        this.step_pay++;\n        this.step_curr = 4;\n        console.log(\"step > 4\");\n        if (this.step_pay == 3) {\n          console.log(\"step_pay == 4\");\n          this.visible = true;\n        }\n      } else if (this.pay && this.step_pay != 0 && this.step_curr == 3) {\n        console.log(\n          \"else if step curr data: \" + JSON.stringify(this.step_curr)\n        );\n        console.log(\"else if step pay data: \" + JSON.stringify(this.step_pay));\n        this.step_pay--;\n        this.step_curr = 4;\n        if (this.step_pay == 0) {\n          this.pay = false;\n          this.step_curr = 4;\n        }\n      } else if (this.step_pay === 1) {\n        console.log(\"step pay \");\n        if (\n          this.form.email == null &&\n          this.form.email == \"\" &&\n          this.form.email == undefined &&\n          this.form.phone == null &&\n          this.form.phone == \"\" &&\n          this.form.phone == undefined &&\n          this.form.name == null &&\n          this.form.name == \"\" &&\n          this.form.name == undefined\n        ) {\n          console.log(\"fill it up\");\n          this.step_pay = 1;\n        }\n      }\n    },\n    visible() {\n      console.log(\"visible status: \" + JSON.stringify(this.visible));\n      this.visible = true;\n    }\n  },\n  methods: {\n    insured(key) {\n      var product = [\n        {\n          name: \"\",\n          fee: 0\n        },\n        {\n          provider: \"AIG\",\n          app_fee: 15000,\n          lrf: 150,\n          interest: 0,\n          surcharge: 0,\n          total: 15150\n        },\n        {\n          provider: \"AXA Philippines\",\n          app_fee: 16000,\n          lrf: 160,\n          interest: 0,\n          surcharge: 0,\n          total: 16160\n        },\n        {\n          provider: \"Malayan\",\n          app_fee: 17000,\n          lrf: 170,\n          interest: 0,\n          surcharge: 0,\n          total: 17170\n        },\n        {\n          provider: \"MAPRE Philippines\",\n          app_fee: 18000,\n          lrf: 180,\n          interest: 0,\n          surcharge: 0,\n          total: 18180\n        }\n      ];\n      // this.insurance = product[key];\n      this.form.business_insurance = product[key];\n    },\n    redirect(nav) {\n      this.$emit(\"redirect\", nav);\n    },\n    upload(info) {\n      const status = info.file.status;\n      if (status !== \"uploading\") {\n        console.log(info.file, info.fileList);\n      }\n      if (status === \"done\") {\n        this.$message.success(`${info.file.name} file uploaded successfully.`);\n      } else if (status === \"error\") {\n        this.$message.error(`${info.file.name} file upload failed.`);\n      }\n    },\n    addBusinessActivities() {\n      if (\n        this.line_business != null &&\n        this.line_business != \"\" &&\n        this.capital != null &&\n        this.capital != \"\" &&\n        this.receipts != null &&\n        this.receipts != \"\"\n      ) {\n        console.log(\"addBusinessActivities\");\n        this.form.business.business_activities.push({\n          line_business: this.line_business,\n          capital: this.capital,\n          receipts: this.receipts\n        });\n        this.line_business = \"\";\n        this.capital = \"\";\n        this.receipts = \"\";\n      }\n    },\n    onChange(e) {\n      console.log(`checked = ${e.target.checked}`);\n    },\n    sameAddress(e) {\n      this.same_address = e.target.checked;\n      console.log(\"same address value: \" + JSON.stringify(this.same_address));\n    },\n    onCellChange(key, dataIndex, value) {\n      const dataSource = [...this.dataSource];\n      const target = dataSource.find(item => item.key === key);\n      if (target) {\n        target[dataIndex] = value;\n        this.dataSource = dataSource;\n      }\n    },\n    handleChange(value, key, column) {\n      const newData = [...this.data];\n      const target = newData.filter(item => key === item.key)[0];\n      if (target) {\n        target[column] = value;\n        this.data = newData;\n      }\n    },\n    edit(key) {\n      const newData = [...this.dataSource];\n      const target = newData.filter(item => key === item.key)[0];\n      console.log(\"taget edit data: \" + JSON.stringify(target));\n      if (target) {\n        target.editable = true;\n        this.dataSource = newData;\n      }\n    },\n    save(key) {\n      const newData = [...this.dataSource];\n      const target = newData.filter(item => key === item.key)[0];\n      if (target) {\n        delete target.editable;\n        this.dataSource = newData;\n        // this.cacheData = newData.map(item => ({ ...item }));\n      }\n    },\n    cancel(key) {\n      const newData = [...this.dataSource];\n      const target = newData.filter(item => key === item.key)[0];\n      if (target) {\n        // Object.assign(\n        //   target,\n        //   this.cacheData.filter(item => key === item.key)[0]\n        // );\n        delete target.editable;\n        this.dataSource = newData;\n      }\n    },\n    onDelete(key) {\n      console.log(\"on delete key data: \" + JSON.stringify(key));\n      this.form.business.business_activities.splice(key);\n      console.log(\n        \"business_activities data: \" +\n          JSON.stringify(this.form.business.business_activities)\n      );\n    },\n    onEdit(record, key) {\n      console.log(\"on edit key data: \" + JSON.stringify(key));\n      this.line_business = this.form.business.business_activities[\n        key\n      ].line_business;\n      this.capital = this.form.business.business_activities[key].capital;\n      this.receipts = this.form.business.business_activities[key].receipts;\n      this.editing = true;\n      this.key = key;\n    },\n    saveEdit() {\n      this.form.business.business_activities[\n        this.key\n      ].line_business = this.line_business;\n      this.form.business.business_activities[this.key].capital = this.capital;\n      this.form.business.business_activities[this.key].receipts = this.receipts;\n      this.onCancel();\n    },\n    onCancel() {\n      this.editing = false;\n      this.line_business = \"\";\n      this.capital = \"\";\n      this.receipts = \"\";\n    },\n    handleAdd() {\n      const { count, dataSource } = this;\n      var newData = {\n        key: count,\n        line_business: `Click here`,\n        capital: \"Click here\",\n        receipts: `Click here`\n      };\n      newData.editable = true;\n      this.dataSource = [...dataSource, newData];\n      this.count = count + 1;\n    },\n    confirm() {\n      console.log(\"confirm button data: \" + JSON.stringify(this.form));\n      if (this.same_address == true) {\n        var amo = {\n          address: this.form.business.business_address,\n          contact: this.form.business.contact,\n          email: this.form.business.email\n        };\n        this.form.business.amo = amo;\n      }\n      axios.post(\"permit/apply\", this.form).then(save_permit => {\n        console.log(\"saved permit\" + JSON.stringify(save_permit));\n        this.redirect(\"mainView\");\n      });\n    }\n  }\n};\n</script>\n\n<style>\n</style>"]}]}